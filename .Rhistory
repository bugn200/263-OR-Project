rat$Pixel_Values=1:4
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots(labels=("70 Symonds Street"))
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
name(range)="Range"
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
names(range)="Range"
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots(labels=("70 Symonds Street"))
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
names(range)="Range"
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hoverboard","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
names(range)="Range"
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
distmodel=gstat(formula=dist~1,locations=distances,nmax=15,set=list(idp=7))
ext1=extent(xmin,xmax,ymin,ymax)
r2=raster(ext1,res=150,crs=2193)
r2 = rasterize(nzpolygon, r2)
grid2=as(r2,"SpatialGrid")
distpred=predict(distmodel,grid2)
dist_brick = brick(distpred)
dist_prediction=dist_brick[[1]] %>% mask(r2)
names(dist_prediction) = "Distance"
tm_shape(dist_prediction)+tm_raster(palette = "Spectral")+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
source("Task8.R")
distances=OSRMdistances(uoa439,st_as_sf(r1))
tm_shape(distances)+tm_dots(col="dist",palette="Spectral")+tm_layout(legend.outside = TRUE)
shortest=osrmRoute(home,uoa402)
shortest=st_as_sf(shortest, coords=c("lon","lat"),crs=4326)
shortest=st_transform(shortest, 2193)
shortest_line=shortest|>summarise(do_union=F)|>st_cast("LINESTRING")
tm_shape(uniroute)+tm_dots()+tm_shape(shortest_line)+tm_lines(col="red")
library(osrm)
string1="Hello world"
split1=strsplit(string1,split=" ")
View(split1)
View(split1)
split1[[1]]
split1[1][2]
split1[[1]
split1[[2]]
split1[[1]][1]
split1[[1]][2]
library(tmap)
?par
library(OpenStreetMap)
ontario2=openmap(c(44.37,-83.40),c(41.96,-78.38),type="osm")
library(ggmap)
ontario2=openmap(c(44.37,-83.40),c(41.96,-78.38),type="osm")
library(rJava)
Sys.setenv('C:\Program Files\Microsoft\jdk-11.0.12.7-hotspot')
Sys.setenv('C:/Program Files/Microsoft/jdk-11.0.12.7-hotspot')
Sys.setenv(JAVA_HOME='C:/Program Files/Microsoft/jdk-11.0.12.7-hotspot')
library(rJava)
library(OpenStreetMap)
ontario2=openmap(c(44.37,-83.40),c(41.96,-78.38),type="osm")
ggplot(ontario2)
autoplot(ontario2)
library(tidyverse)
autoplot(ontario2)
ontario3=openproj(ontario2)
autoplot(ontario3)
?autoplot
library(map)
install.packages('map')
install.packages('maps')
library(maps)
autoplot(ontario2)
autoplot.OpenStreetMap(ontario2)
autoplot.OpenStreetMap(ontario3)
setwd("C:/Users/minhn/263-OR-Project")
library(sf)
library(spData)
library (tidyverse)
library(tmap)
library(mapedit)
#Read Supermarket location data from the csv
supermarket_raw=read.csv('data/WoolworthsRegion.csv')
#Convert Longitude and Latitude to be a geometry, using EPSG 4326 system
supermarket=st_as_sf(supermarket_raw,coords=c("Long","Lat"),crs=4326)
#Transform coordinate into NZGD2000 coordinate system
supermarket=st_transform(supermarket,2193)
#Set tmap mode to plot
tmap_mode("plot")
#Read the shape file for New Zealand for territorial authorities
nz_shape=st_read("Shape_files/TA_2018_clipped")
#Get the shape of Auckland
akl_shape=nz_shape%>%filter(TA2018_V_1=="Auckland")
#Crop the map for the area of interest
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1781000,ymin=5890000,ymax=5940000)
View(akl_shape)
View(akl_shape)
akl_shape
bbox(akl_shape)
st_bbox(akl_shape)
a=st_bbox(akl_shape)
c(a[1],a[2])
as.vector(c(a[1],a[2]))
c(1,2)
st_transform(akl_shape,4326)
South=filter(supermarket,Region%in%c('South','Distribution Centre Auckland'))
South_shape=st_crop(akl_shape,xmin=1758000,xmax=1777000,ymin=5895000,ymax=5913000)
North=filter(supermarket,Region%in%c('North','Distribution Centre Auckland'))
North_shape=st_crop(akl_shape,xmin=1751000,xmax=1764000,ymin=5908000,ymax=5936000)
Central=filter(supermarket,Region%in%c('Central','Distribution Centre Auckland'))
Central_shape=st_crop(akl_shape,xmin=1750000,xmax=1762500,ymin=5907800,ymax=5922000)
East=filter(supermarket,Region%in%c('East','Distribution Centre Auckland'))
East_shape=st_crop(akl_shape,xmin=1759000,xmax=1773000,ymin=5908000,ymax=5918500)
West=filter(supermarket,Region%in%c('West','Distribution Centre Auckland'))
West_shape=st_crop(akl_shape,xmin=1741100,xmax=1762000,ymin=5908000,ymax=5928000)
North_shape=st_transform(North_shape,4326)
South_shape=st_transform(South_shape,4326)
East_shape=st_transform(East_shape,4326)
West_shape=st_transform(West_shape,4326)
Central_shape=st_transform(Central_shape,4326)
North_shape
#Read the route file for weekday route and save as a png
weekdayRoute=readLines('data/WeekdayRouteStores.txt')
routes=as.matrix(weekdayRoute)
View(ontario3)
View(ontario3)
View(routes)
View(routes)
routes.length
length(routes)
routes[1]
w=as.matrix(weekdayRoute)
colnames(w)='Route'
View(w)
View(w)
w$Region='Unknown'
w=as.matrix(weekdayRoute)
w=as.data.frame(weekdayRoute)
colnames(w)='Route'
w$Region='Unknown'
for(i in 1:length(w)) {
#split the string for the route
route=str_split(w[i]$Route,',')
w[i]$Region=filter(supermarket,Store==route[1])$Region
}
length(w)
for(i in 1:nrow(w)) {
#split the string for the route
route=str_split(w[i]$Route,',')
w[i]$Region=filter(supermarket,Store==route[1])$Region
}
w[1]
View(w)
View(w)
w[,1]
for(i in 1:nrow(w)) {
#split the string for the route
route=str_split(w[i,1]$Route,',')
w[i,1]$Region=filter(supermarket,Store==route[1])$Region
}
View(w)
View(w)
w[i,q]
w[i,1]
route=str_split(w[i,1]$Route,',')
w[i,2]
for(i in 1:nrow(w)) {
#split the string for the route
route=str_split(w[i,1],',')
w[i,2]=filter(supermarket,Store==route[1])$Region
}
route=str_split(w[1,1],',')
View(route)
View(route)
route[1]
for(i in 1:nrow(w)) {
#split the string for the route
route=str_split(w[i,1],',')
w[i,2]=filter(supermarket,Store==route[1][1])$Region
}
route[1][1]
route[[1]][1]
for(i in 1:nrow(w)) {
#split the string for the route
route=str_split(w[i,1],',')
w[i,2]=filter(supermarket,Store==route[[1]][1])$Region
}
View(route)
View(route)
North_route=filter(w,Region='North')
North_route=filter(w,Region=='North')
View(North_route)
View(North_route)
South_route=filter(w,Region=='South')
East_route=filter(w,Region='East')
East_route=filter(w,Region=='East')
West_route=filter(w,Region=='West')
Central_route=filter(w,Region=='Central')
st_bbox(North)
st_bbox(North_shape)
#Get the coordinate of supermarket in each region and the extent coordinates
South=filter(supermarket_raw,Region%in%c('South','Distribution Centre Auckland'))
North=filter(supermarket_raw,Region%in%c('North','Distribution Centre Auckland'))
Central=filter(supermarket_raw,Region%in%c('Central','Distribution Centre Auckland'))
East=filter(supermarket_raw,Region%in%c('East','Distribution Centre Auckland'))
West=filter(supermarket_raw,Region%in%c('West','Distribution Centre Auckland'))
View(South)
View(South)
#Convert Longitude and Latitude to be a geometry, using EPSG 4326 system
supermarket1=st_as_sf(supermarket_raw,coords=c("Long","Lat"),crs=4326)
#Transform coordinate into NZGD2000 coordinate system
supermarket=st_transform(supermarket1,2193)
#Get the coordinate of supermarket in each region and the extent coordinates
South=filter(supermarket1,Region%in%c('South','Distribution Centre Auckland'))
North=filter(supermarket1,Region%in%c('North','Distribution Centre Auckland'))
Central=filter(supermarket1,Region%in%c('Central','Distribution Centre Auckland'))
East=filter(supermarket1,Region%in%c('East','Distribution Centre Auckland'))
West=filter(supermarket1,Region%in%c('West','Distribution Centre Auckland'))
View(South)
View(South)
st_bbox(South)
a
a[1,2]
a[1:2]
akl_North=openmap(as.vector(st_bbox(North_shape))[1:2],as.vector(st_bbox(North_shape))[3:4],type='osm')
as.vector(st_bbox(North_shape))[1:2]
akl_North=openmap(as.numeric(st_bbox(North_shape))[1:2],as.numeric(st_bbox(North_shape))[3:4],type='osm')
?openmap
akl_North=openmap(c(174.69061, -36.96147),as.numeric(st_bbox(North_shape))[3:4],type='osm')
as.numeric(st_bbox(North_shape))[3:4]
akl_North=openmap(c(174.69061, -36.96147),c(174.84213, -36.70878),type='osm')
akl_North=openmap(as.numeric(st_bbox(North_shape))[1:2],as.numeric(st_bbox(North_shape))[3:4],type='osm',minNumTiles = 7L)
akl_North=openmap(as.numeric(st_bbox(North_shape))[1:2],as.numeric(st_bbox(North_shape))[3:4],type='osm',minNumTiles = 45)
akl_North=openmap(as.numeric(st_bbox(North_shape))[1:2],as.numeric(st_bbox(North_shape))[3:4],type='osm',minNumTiles = 3)
akls=st_transform(akl_shape,4326)
st_bbox(akls)
akl=openmap(as.numeric(st_bbox(akls))[1:2],as.numeric(akls)[3:4],type='osm',minNumTiles = 3)
baseUrl <- "https://api.mapbox.com/styles/v1/mapbox/dark-v9/tiles/256/{z}/{x}/{y}"
map <- openmap(c(43.46886761482925,119.94873046875),
c(33.22949814144951,133.9892578125),
minNumTiles=4,
type=paste0(baseUrl,apiKey))
apiKey <- paste0("?access_token=",
"pk.eyJ1IjoidGhlZmVsbCIsImEiOiJjaXN1anNwODEwMWlrMnRvZHBhamRrZjlqIn0.Gf8qLSpZ6yo5yfQhEutFfQ")
map <- openmap(c(43.46886761482925,119.94873046875),
+                c(33.22949814144951,133.9892578125),
+                minNumTiles=4,
+                type=paste0(baseUrl,apiKey))
map <- openmap(c(43.46886761482925,119.94873046875),
c(33.22949814144951,133.9892578125),
minNumTiles=3,type='osm')
autoplot.OpenStreetMap(map)
akl_North=openmap(as.numeric(st_bbox(North_shape))[1:2],as.numeric(st_bbox(North_shape))[3:4],type='osm')
akl_North=openmap(as.numeric(st_bbox(North_shape))[1:2],as.numeric(st_bbox(North_shape))[3:4],type='osm',zoom=12)
akl_North=openmap(as.numeric(st_bbox(North_shape))[1:2],as.numeric(st_bbox(North_shape))[3:4],type='osm',zoom=1)
as.numeric(st_bbox(North_shape))
a
a=as.numeric(a)
a[1,3]
a[c(1,3)]
akl_North=openmap(as.numeric(st_bbox(North_shape))[c(3,2)],as.numeric(st_bbox(North_shape))[c(1,4)],type='osm')
akl_North=openmap(as.numeric(st_bbox(North_shape))[c(3,2)],as.numeric(st_bbox(North_shape))[c(1,4)],type='osm',minNumTiles = 1)
akl_North=openmap(as.numeric(st_bbox(North_shape))[c(3,2)],as.numeric(st_bbox(North_shape))[c(1,4)],type='osm',zoom=1)
as.numeric(st_bbox(North_shape))[c(3,2)]
as.numeric(st_bbox(North_shape))[c(1,4)]
akl_North=openmap(as.numeric(st_bbox(North_shape))[c(4,1)],as.numeric(st_bbox(North_shape))[c(2,3)],type='osm')
autoplot.OpenStreetMap(akl_North)
autoplot.OpenStreetMap(akl_North)+geom_sf(data=North,color='Type')+scale_color_brewer(palette="Dark2")
akl_North1=openproj(akl_North)
autoplot.OpenStreetMap(akl_North1)+geom_sf(data=North,color='Type')+scale_color_brewer(palette="Dark2")
autoplot.OpenStreetMap(akl_North1)
View(supermarket_raw)
View(supermarket_raw)
South=filter(supermarket_raw,Region%in%c('South','Distribution Centre Auckland'))
South_shape=st_crop(akl_shape,xmin=1758000,xmax=1777000,ymin=5895000,ymax=5913000)
North=filter(supermarket_raw,Region%in%c('North','Distribution Centre Auckland'))
North_shape=st_crop(akl_shape,xmin=1751000,xmax=1764000,ymin=5908000,ymax=5936000)
Central=filter(supermarket_raw,Region%in%c('Central','Distribution Centre Auckland'))
Central_shape=st_crop(akl_shape,xmin=1750000,xmax=1762500,ymin=5907800,ymax=5922000)
East=filter(supermarket_raw,Region%in%c('East','Distribution Centre Auckland'))
East_shape=st_crop(akl_shape,xmin=1759000,xmax=1773000,ymin=5908000,ymax=5918500)
West=filter(supermarket_raw,Region%in%c('West','Distribution Centre Auckland'))
West_shape=st_crop(akl_shape,xmin=1741100,xmax=1762000,ymin=5908000,ymax=5928000)
View(South)
View(South)
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x='Lon',y='Lat',color=Type))+
scale_color_brewer(palette="Dark2")
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x='Lon',y='Lat',color=Type))
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x='Lon',y='Lat'))
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North)
View(supermarket_raw)
View(supermarket_raw)
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,x='Long',y='Lat')
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x='Long',y='Lat'))
North=filter(supermarket1,Region%in%c('North','Distribution Centre Auckland'))
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x='Long',y='Lat'))
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North)
autoplot.OpenStreetMap(akl_North1)+
geom_sf(data=North)
st_crs(akl_North)
North=filter(supermarket_raw,Region%in%c('North','Distribution Centre Auckland'))
autoplot.OpenStreetMap(akl_North1)+
geom_sf(data=North,aes(x=Long,y=Lat,color=Type))
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x=Long,y=Lat,color=Type))
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x=Long,y=Lat,color=Type))+
scale_color_brewer(palette="Dark2")
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x=Long,y=Lat,color=Type))+
scale_color_brewer(palette="Dark2")+
labs(title='Northen Routes',x='Longitude',y='Lattitude')
ggplot(North_shape)+geom_sf(North_shape)
ggplot(North_shape)+geom_sf(data=North_shape,fill='white')
ggplot(North_shape)+geom_sf(data=North_shape,fill='white')+
geom_point(data=North,aes(x=Long,y=Lat,color=Type))+
scale_color_brewer(palette="Dark2")
n=st_transform(North_shape,2193)
st_crs(n)
ggplot(n)+geom_sf(data=n,fill='white')+
+     geom_point(data=North,aes(x=Long,y=Lat,color=Type))+
+     scale_color_brewer(palette="Dark2")
ggplot(n)+geom_sf(data=n,fill='white')+
geom_point(data=North,aes(x=Long,y=Lat,color=Type))+
scale_color_brewer(palette="Dark2")
st_crs(North_shape)
st_transform
#Transform all the region shape to 4326 to plot the regional route map
North_shape=st_transform(North_shape,4326)
ggplot(North_shape)+geom_sf(North_shape,fill='white')
ggplot(North_shape)+geom_sf(data=North_shape,fill='white')
ggplot(North_shape)+geom_sf(data=North_shape,fill='white')+geom_point(data=North,aes(x=Long,y=Lat,color=Type))
autoplot.OpenStreetMap(akl_North1)+
geom_point(data=North,aes(x=Long,y=Lat,color=Type))+
scale_color_brewer(palette="Dark2")+
labs(title='Northen Routes',x='Longitude',y='Lattitude')
autoplot.OpenStreetMap(akl_North1)+geom_sf(data=supermarket,aes(color=Type))+
scale_color_brewer(palette="Dark2")
autoplot.OpenStreetMap(akl_North1)+geom_sf(data=supermarket1,aes(color=Type))+
scale_color_brewer(palette="Dark2")
ras=raster(akl_North1)
library(raster)
ras=raster(akl_North1)
tm_shape(ras)+tm_raster()
tm_shape(ras)+tm_rgb()
st_crs(ras)
akl_North=openproj(akl_North)
North_raster=raster(akl_North)
South=filter(supermarket,Region%in%c('South','Distribution Centre Auckland'))
South_shape=st_crop(akl_shape,xmin=1758000,xmax=1777000,ymin=5895000,ymax=5913000)
North=filter(supermarket,Region%in%c('North','Distribution Centre Auckland'))
North_shape=st_crop(akl_shape,xmin=1751000,xmax=1764000,ymin=5908000,ymax=5936000)
Central=filter(supermarket,Region%in%c('Central','Distribution Centre Auckland'))
Central_shape=st_crop(akl_shape,xmin=1750000,xmax=1762500,ymin=5907800,ymax=5922000)
East=filter(supermarket,Region%in%c('East','Distribution Centre Auckland'))
East_shape=st_crop(akl_shape,xmin=1759000,xmax=1773000,ymin=5908000,ymax=5918500)
West=filter(supermarket,Region%in%c('West','Distribution Centre Auckland'))
West_shape=st_crop(akl_shape,xmin=1741100,xmax=1762000,ymin=5908000,ymax=5928000)
North_raster=st_crs(North_raster,2193)
st_crs(North_raster)
North_raster=st_transform(North_raster,2193)
North_raster=raster(akl_North)
North_raster=st_transform(North_raster,2193)
North_raster=st_transform(st_as_sf(North_raster),2193)
North_raster=st_transform(North_raster,2193)
st_crs(North_raster)
st_crs(North)
North=filter(supermarket1,Region%in%c('North','Distribution Centre Auckland'))
tm_shape(North_raster)+tm_rgb()+tm_shape(North)+tm_dots(palette=Dark2)
tm_shape(North_raster)+tm_rgb()+tm_shape(North)+tm_dots(palette='Dark2')
tm_shape(North_raster)+tm_rgb()+tm_shape(North)+tm_dots(col=Type,palette='Dark2')
View(North)
View(North)
tm_shape(North_raster)+tm_rgb()+tm_shape(North)+tm_dots(col='Type',palette='Dark2',size=0.3)
library(rgdal)
North_raster=writeRaster(North_raster,'Shape_files/North.tif',format='GTiff')
tm_shape(North_raster)+tm_rgb()+tm_shape(North)+tm_dots(col='Type',palette='Dark2',size=0.3)
North_raster=raster('Shape_files/North.tif')
tm_shape(North_raster)+tm_rgb()+tm_shape(North)+tm_dots(col='Type',palette='Dark2',size=0.3)
akl_South=openmap(as.numeric(st_bbox(South_shape))[c(4,1)],as.numeric(st_bbox(South_shape))[c(2,3)],type='osm')
akl_South=openproj(akl_South)
South_raster=raster(akl_South)
South_raster=writeRaster(South_raster,'Shape_files/South.tif',format='GTiff')
st_bbox(South_shape)
South_shape=st_transform(South_shape,4326)
East_shape=st_transform(East_shape,4326)
West_shape=st_transform(West_shape,4326)
Central_shape=st_transform(Central_shape,4326)
akl_South=openmap(as.numeric(st_bbox(South_shape))[c(4,1)],as.numeric(st_bbox(South_shape))[c(2,3)],type='osm')
akl_South=openproj(akl_South)
South_raster=raster(akl_South)
South_raster=writeRaster(South_raster,'Shape_files/South.tif',format='GTiff')
South_raster=raster('Shape_files/South.tif')
#Plot the map of the Northern region and the supermarkets
tm_shape(South_raster)+tm_rgb()+tm_shape(South)+tm_dots(col='Type',palette='Dark2',size=0.3)
akl_East=openmap(as.numeric(st_bbox(East_shape))[c(4,1)],as.numeric(st_bbox(East_shape))[c(2,3)],type='osm')
akl_East=openproj(akl_East)
East_raster=raster(akl_East)
East_raster=writeRaster(South_raster,'Shape_files/East.tif',format='GTiff')
#If the file is available in Shape_files,run this command only
East_raster=raster('Shape_files/East.tif')
#Plot the map of the Southern region and the supermarkets
tm_shape(East_raster)+tm_rgb()+tm_shape(East)+tm_dots(col='Type',palette='Dark2',size=0.3)
tm_shape(East_raster)+tm_raster()
#Save the East shape as a raster for reusability
akl_East=openmap(as.numeric(st_bbox(East_shape))[c(4,1)],as.numeric(st_bbox(East_shape))[c(2,3)],type='osm')
akl_East=openproj(akl_East)
East_raster=raster(akl_East)
East_raster=writeRaster(South_raster,'Shape_files/East.tif',format='GTiff')
East_raster=writeRaster(South_raster,'Shape_files/East.tif',format='GTiff',overwrite=TRUE)
#If the file is available in Shape_files,run this command only
East_raster=raster('Shape_files/East.tif')
#Plot the map of the Southern region and the supermarkets
tm_shape(East_raster)+tm_rgb()+tm_shape(East)+tm_dots(col='Type',palette='Dark2',size=0.3)
akl_East=openmap(as.numeric(st_bbox(East_shape))[c(4,1)],as.numeric(st_bbox(East_shape))[c(2,3)],type='osm')
akl_East=openproj(akl_East)
East_raster=raster(akl_East)
East_raster=writeRaster(East_raster,'Shape_files/East.tif',format='GTiff',overwrite=TRUE)
#If the file is available in Shape_files,run this command only
East_raster=raster('Shape_files/East.tif')
#Plot the map of the Southern region and the supermarkets
tm_shape(East_raster)+tm_rgb()+tm_shape(East)+tm_dots(col='Type',palette='Dark2',size=0.3)
#Save the West shape as a raster for reusability
akl_West=openmap(as.numeric(st_bbox(West_shape))[c(4,1)],as.numeric(st_bbox(West_shape))[c(2,3)],type='osm')
akl_West=openproj(akl_West)
West_raster=raster(akl_West)
West_raster=writeRaster(West_raster,'Shape_files/West.tif',format='GTiff')
#If the file is saved in Shape_files,run this command only
West_raster=raster('Shape_files/West.tif')
#Plot the map of the Southern region and the supermarkets
tm_shape(West_raster)+tm_rgb()+tm_shape(West)+tm_dots(col='Type',palette='Dark2',size=0.3)
akl_Central=openmap(as.numeric(st_bbox(Central_shape))[c(4,1)],as.numeric(st_bbox(Central_shape))[c(2,3)],type='osm')
akl_Central=openproj(akl_Central)
Central_raster=raster(akl_Central)
Central_raster=writeRaster(Central_raster,'Shape_files/Central.tif',format='GTiff')
#If the file is saved in Shape_files,run this command only
Central_raster=raster('Shape_files/Central.tif')
#Plot the map of the Southern region and the supermarkets
tm_shape(Central_raster)+tm_rgb()+tm_shape(Central)+tm_dots(col='Type',palette='Dark2',size=0.3)
