as.factor(range)
k=as.factor(range)
tm_shape(k)+tm_raster()
range$Distance
View(range)
View(range)
range$value
range$data
asFactor(range)
tm_shape(range)+tm_raster
tm_shape(range)+tm_raster()
k=asFactor(range)
tm_shape(k)+tm_raster()
k=ratify(range)
rat=levels(k)[[1]]
rat
rat$Pixel_Values=1:4
levels(r3)=rat
levels(range)=rat
tm_shape(range)+tm_raster()
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]
rat$Pixel_Values=1:4
rat$Class_Names=c("Hover Board","Lime Scooter","Electric car","Out of range")
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]
rat$Pixel_Values=1:4
rat$Class_Names=c("Hover Board","Lime Scooter","Electric car","Out of range")
levels(range)=rat|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
rat$Class_Names=c("Hover Board","Lime Scooter","Electric car","Out of range")
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots(labels=("70 Symonds Street"))
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
name(range)="Range"
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
names(range)="Range"
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots(labels=("70 Symonds Street"))
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hover Board","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
names(range)="Range"
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
reclass_df <- c(0, 32e3, 1,
32e3, 100e3, 2,
100e3, 210e3, 3,
210e3, Inf, 4)
reclass_m <- matrix(reclass_df,
ncol = 3,
byrow = TRUE)
range=reclassify(dist_prediction,reclass_m)
k=ratify(range)
rat=levels(k)[[1]]|>mutate(legends=c("Hoverboard","Lime Scooter","Electric car","Out of range"))
rat$Pixel_Values=1:4
levels(range)=rat
names(range)="Range"
tm_shape(range)+tm_raster()+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
distmodel=gstat(formula=dist~1,locations=distances,nmax=15,set=list(idp=7))
ext1=extent(xmin,xmax,ymin,ymax)
r2=raster(ext1,res=150,crs=2193)
r2 = rasterize(nzpolygon, r2)
grid2=as(r2,"SpatialGrid")
distpred=predict(distmodel,grid2)
dist_brick = brick(distpred)
dist_prediction=dist_brick[[1]] %>% mask(r2)
names(dist_prediction) = "Distance"
tm_shape(dist_prediction)+tm_raster(palette = "Spectral")+tm_layout(legend.outside = TRUE)+tm_shape(uoa439)+tm_dots()
source("Task8.R")
distances=OSRMdistances(uoa439,st_as_sf(r1))
tm_shape(distances)+tm_dots(col="dist",palette="Spectral")+tm_layout(legend.outside = TRUE)
shortest=osrmRoute(home,uoa402)
shortest=st_as_sf(shortest, coords=c("lon","lat"),crs=4326)
shortest=st_transform(shortest, 2193)
shortest_line=shortest|>summarise(do_union=F)|>st_cast("LINESTRING")
tm_shape(uniroute)+tm_dots()+tm_shape(shortest_line)+tm_lines(col="red")
library(osrm)
library(tmap)
setwd("C:/Users/minhn/263-OR-Project")
library(sf)
nz
library(sf)
library(sf)
library(spData)
library (tidyverse)
library(tmap)
nz
source=st_as_sf(coords=c(-36.94710197390234, 174.8089263095867),crs=4326)
source_lat=-36.94710197390234
source_long=174.8089263095867
source=st_as_sf(coords=c("source_lat","source_long"),crs=4326)
df=data.frame(source_lat,source_long)
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=4326)
source
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=4326)|>st_transform(crs=2193)
tmap_mode("Plot")
tmap_mode("plot")
akl_shape=nz|>filter(Name="Auckland")
akl_shape=nz|>filter(Name=="Auckland")
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()
tm_shape(akl_shape)+tm_polygons()
tm_shape(nz)+tm_polygons()
tm_shape(akl_shape)+tm_polygons()
install.packages("nzcensr")
library(nzcensr)
nz_shape=st_read("Shape_files/SA2")
nz_shape
nz_shape=st_read("Shape_files/nzpolygon")
nz_shape
View(df)
View(df)
View(nz_shape)
View(nz_shape)
nz_shape=st_read("Shape_files/SA2")
nz_shape
nz_shape=st_read("Shape_files/nz_region_shape")
nz_shape
akl_shape=nz_shape|>filter(Name=="Auckland")
akl_shape=nz_shape|>filter(REGC2018_1=="Auckland Region")
tm_shape(akl_shape)+tm_polygons()
akl_shape=nz_shape|>filter(REGC2018_1=="Auckland Region")
nz_shape
tm_shape(_shanzpe)+tm_polygons()
tm_shape(nz_shape)+tm_polygons()
akl_shape=st_read("Shape_files/Auckland Council Boundary")
tm_shape(akl_shape)+tm_polygons()
tm_shape(akl_shape)+tm_lines()
akl_shape=st_read("Shape_files/Auckland-Council-Boards")
akl_shape=st_read("Shape_files/Auckland_Council_Boards")
tm_shape(akl_shape)+tm_lines()
tm_shape(akl_shape)+tm_polygons()
akl_shape=st_read("Shape_files/Base_Region")
tm_shape(akl_shape)+tm_polygons()
akl_shape=st_read("Shape_files/AT_Infrastructure_Projects")
tm_shape(akl_shape)+tm_polygons()
nz_shape=st_read("Shape_files/TA_2018_clipped")
nz_shape=st_read("Shape_files/TA_2018_clipped")
View(nz_shape)
head(nz_shape)
akl_shape=nz_shape|>filter(TA_2018_V_1=="Auckland")
nz_shape=st_read("Shape_files/TA_2018_clipped")
nz_shape
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
tm_shape(akl_shape)+tm_polygons()
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()
source
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=4326)|>st_transform(crs=2193)
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=4326)
View(df)
View(df)
View(source)
View(source)
source=st_transform(source,2193)
View(source)
View(source)
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=4326)
View(source)
View(source)
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=2193)
View(source)
View(source)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=4326)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()
source=st_transform(source,2193)
View(nz_shape)
View(nz_shape)
source
source=df|>st_as_sf(coords=c("source_lat","source_long"),crs=4326)
View(source)
View(source)
supermarket=read.csv('data/WoolworthsLocations.csv')
View(supermarket)
View(supermarket)
source=df|>st_as_sf(coords=c("source_long","source_lat"),crs=4326)
source=st_transform(source,2193)
View(source)
View(source)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()
View(supermarket)
View(supermarket)
supermarket=st_as_sf(supermarket,coords=c("Long","Lat"),crs=4326)
supermarket=st_transform(supermarket,2193)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(cols='Type')
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=crop(akl_shape(xmin=1750000,xmax=1765000,ymin=5910000,ymax=5922000))
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=crop(akl_shape,(xmin=1750000,xmax=1765000,ymin=5910000,ymax=5922000))
akl_shape=st_crop(akl_shape,xmin=1750000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=st_crop(akl_shape,xmin=1500000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=st_crop(akl_shape,xmin=1000000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=st_crop(akl_shape,xmin=900000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=st_crop(akl_shape,xmin=500000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=200000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=400000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=500000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1000000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1000000,xmax=1800000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1200000,xmax=1800000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1500000,xmax=1800000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1600000,xmax=1800000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1700000,xmax=1800000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1700000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1750000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1730000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1765000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots(col='black')+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1800000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots(col='black')+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1800000,ymin=5810000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots(col='black')+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1800000,ymin=5880000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots(col='black')+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1800000,ymin=5900000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(source)+tm_dots(col='black')+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1800000,ymin=5910000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1800000,ymin=5880000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1742000,xmax=1800000,ymin=5890000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1741000,xmax=1800000,ymin=5890000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1800000,ymin=5890000,ymax=5922000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1800000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1770000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1780000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1790000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1785000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1781000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1720000,xmax=1781000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1781000,ymin=5890000,ymax=5940000)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',size=0.3)+tm_layout(legend.outside = TRUE)
tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Spectral',size=0.3)+tm_layout(legend.outside = TRUE)
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(legend.outside = TRUE)
tmap_save(data_vis,'Plot/locations.png')
akl_shape=nz_shape|>filter(TA2018_V_1=="Auckland")
akl_shape=st_crop(akl_shape,xmin=1740000,xmax=1781000,ymin=5890000,ymax=5940000)
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE)
tmap_save(data_vis,'Plot/locations.png')
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE)
tmap_save(data_vis,'Plot/locations.png')
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE,title.position = "top")
tmap_save(data_vis,'Plot/locations.png')
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE,title.position = "top")
tmap_save(data_vis,'Plot/locations.png')
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE,title.position = "TOP")
tmap_save(data_vis,'Plot/locations.png')
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE)
tmap_save(data_vis,'Plot/locations.png')
#Create supermarket data for Saturday(Only Countdowns and the Distribution center included)
saturday=filter(supermarket,Type%in%c('Countdown','Distribution center'))
View(saturday)
View(saturday)
#Create supermarket data for Saturday(Only Countdowns and the Distribution center included)
saturday=filter(supermarket,Type%in%c('Countdown','Distribution Center'))
View(supermarket)
View(supermarket)
#Create supermarket data for Saturday(Only Countdowns and the Distribution center included)
saturday=filter(supermarket,Type%in%c('Countdown','Distribution Centre'))
View(saturday)
View(saturday)
data_vis_sat=tm_shape(akl_shape)+tm_polygons()+tm_shape(saturday)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map(Saturday demand)',legend.outside = TRUE)
#Save the plot as png
tmap_save(data_vis_sat,'Plot/Saturday.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(legend.outside = TRUE)+tm_style_white('Auckland Woolworths supermarkets',frame=F,title.size=2)
?tm_style
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(legend.outside = TRUE)+tm_style('Auckland Woolworths supermarkets',frame=F,title.size=2)
?tm_style
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(legend.outside = TRUE)+tm_style(white,'Auckland Woolworths supermarkets',frame=F,title.size=2)
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(legend.outside = TRUE)+tm_style('white','Auckland Woolworths supermarkets',frame=F,title.size=2)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(legend.outside = TRUE)+tm_style('white',title='Auckland Woolworths supermarkets',frame=F,title.size=2)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_style('white',title='Auckland Woolworths supermarkets',frame=F,title.size=2,legend.outside = TRUE)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_style('white',title='Auckland Woolworths supermarkets',frame=F,title.size=3,legend.outside = TRUE)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_style('white',title='Auckland Woolworths supermarkets',frame=F,title.size=4,legend.outside = TRUE)
plot(data_vis)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE,title.snap.to.legend = FALSE)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE,title.snap.to.legend = FALSE,title.size = 3, title.position = c('top','left'))
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(title='Auckland Woolworth supermarket map',legend.outside = TRUE,title.snap.to.legend = FALSE,title.size = 3, title.position = c('left','top'))
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+ tm_layout(legend.position = c("right", "top"),
title= 'Woolworth supermarkets location',
title.position = c('right', 'top'))
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+ tm_layout(legend.position = c("right", "top"),
title= 'Woolworth supermarkets location',
title.position = c('right', 'top'),
legend.outside = TRUE)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+ tm_layout(legend.position = c("right", "top"),
title= 'Woolworth supermarkets location',
title.position = c('right', 'top'))
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis=tm_shape(akl_shape)+tm_polygons()+tm_shape(supermarket)+tm_dots(col='Type',palette='Dark2',size=0.3)+ tm_layout(legend.position = c("right", "top"),
title= 'Woolworth supermarkets location',
title.position = c('right', 'top'),legend.frame = TRUE)
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Save the plot above as png
tmap_save(data_vis,'Plot/locations.png')
#Initially visualise data for weekdays
data_vis_sat=tm_shape(akl_shape)+tm_polygons()+tm_shape(saturday)+tm_dots(col='Type',palette='Dark2',size=0.3)+tm_layout(legend.position = c("right", "top"),
title= 'Woolworth supermarkets locations (Saturday demands)',
title.position = c('right', 'top'),legend.frame = TRUE)
#Save the plot as png
tmap_save(data_vis_sat,'Plot/Saturday.png')
